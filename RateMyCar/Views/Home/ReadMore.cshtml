@model RateMyCar.Models.Review
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<div id="edit-form" style="display:none;">
    <form asp-action="EditReview" method="post">
        <input type="hidden" name="ReviewId" value="@Model.ReviewId" />
        <textarea name="ReviewText">@Model.Comments</textarea>
        <textarea name="ReviewPhoto">@Model.PhotoUrl</textarea>
        <select name="Rating">
            @for (int rating = 1; rating <= 5; rating++)
            {
                <option value="@rating">@rating</option>
            }
        <div>
            <input type="submit" value="Edit" class="btn btn-primary" />
        </div>
    </form>
</div>

<script>
    function showEditForm() {
        document.getElementById('edit-form').style.display = 'block';
        document.getElementById('edit-icon').style.display = 'none';
    }

    function confirmDelete() {
        if (confirm("Are you sure you want to delete this review?")) {
            document.getElementById('delete-form').submit();
        }
    }
</script>
<h2>@Model.Car.Year @Model.Car.Make @Model.Car.Model</h2>
<p>Rating: @Model.Rating</p>
<p>@Model.Comments</p>
<img src="@Model.PhotoUrl" alt="Car Image" style="height: 300px; object-fit: cover;">
<a href="#" id="edit-icon" onclick="showEditForm()">
    <i class="fas fa-pencil-alt"></i>
</a>
<a href="#" id="delete-icon" onclick="confirmDelete()">
    <i class="fas fa-trash-alt"></i>
</a>
<form id="delete-form" asp-action="DeleteReview" method="post" style="display:none;">
    <input type="hidden" name="ReviewId" value="@Model.ReviewId" />
</form>
<p>Reviewed by: @Model.User.Fullname</p>